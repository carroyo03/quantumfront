<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Quantum Portfolio Coach - Prototipo</title>
    <meta name="description" content="Tu coach inteligente para invertir de forma m√°s inteligente">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <!-- Mobile Frame Container -->
    <div class="device-frame">
        <div class="device-notch"></div>

        <!-- Onboarding Modal -->
        <div id="onboarding-modal" class="modal active" role="dialog" aria-labelledby="onboarding-title"
            aria-modal="true">
            <div class="modal-content onboarding">
                <!-- Skip Button -->
                <button class="skip-onboarding" id="skip-onboarding" aria-label="Omitir introducci√≥n">
                    Omitir
                </button>

                <!-- Progress Indicator -->
                <div class="onboarding-progress" aria-live="polite">
                    <span id="onboarding-progress-text">1 de 3</span>
                </div>

                <div class="onboarding-slides">
                    <div class="onboarding-slide active" data-slide="0" role="tabpanel" aria-labelledby="slide-0">
                        <div class="onboarding-icon" aria-hidden="true">
                            <svg width="80" height="80" viewBox="0 0 80 80" fill="none">
                                <circle cx="40" cy="40" r="35" stroke="#14B8A6" stroke-width="3" opacity="0.3" />
                                <circle cx="40" cy="40" r="25" stroke="#14B8A6" stroke-width="3" opacity="0.6" />
                                <circle cx="40" cy="40" r="8" fill="#14B8A6" />
                                <circle cx="65" cy="40" r="4" fill="#14B8A6" />
                                <circle cx="15" cy="40" r="4" fill="#14B8A6" />
                                <circle cx="40" cy="15" r="4" fill="#14B8A6" />
                            </svg>
                        </div>
                        <h2 id="onboarding-title">Invierte desde 50‚Ç¨ al mes</h2>
                        <p class="onboarding-description">Dise√±ado para la <strong>Generaci√≥n Z en Espa√±a</strong>.
                            Optimiza tus ahorros con algoritmos cu√°nticos para batir la inflaci√≥n sin complicaciones.
                        </p>
                    </div>

                    <div class="onboarding-slide" data-slide="1" role="tabpanel" aria-labelledby="slide-1">
                        <div class="onboarding-icon" aria-hidden="true">
                            <svg width="80" height="80" viewBox="0 0 80 80" fill="none">
                                <path d="M20 50 L35 30 L50 40 L65 20" stroke="#14B8A6" stroke-width="4"
                                    stroke-linecap="round" stroke-linejoin="round" />
                                <circle cx="20" cy="50" r="5" fill="#14B8A6" />
                                <circle cx="35" cy="30" r="5" fill="#14B8A6" />
                                <circle cx="50" cy="40" r="5" fill="#14B8A6" />
                                <circle cx="65" cy="20" r="5" fill="#14B8A6" />
                            </svg>
                        </div>
                        <h2>¬øC√≥mo funciona?</h2>
                        <p class="onboarding-description">Dile a Coach Q <strong>cu√°nto quieres ahorrar</strong> y tu
                            nivel de riesgo. Analizar√° el IBEX 35 y mercados globales para darte la mejor combinaci√≥n.
                        </p>
                    </div>

                    <div class="onboarding-slide" data-slide="2" role="tabpanel" aria-labelledby="slide-2">
                        <div class="onboarding-icon warning" aria-hidden="true">
                            <svg width="80" height="80" viewBox="0 0 80 80" fill="none">
                                <circle cx="40" cy="40" r="30" stroke="#FF6B6B" stroke-width="4" />
                                <line x1="25" y1="25" x2="55" y2="55" stroke="#FF6B6B" stroke-width="4"
                                    stroke-linecap="round" />
                            </svg>
                        </div>
                        <h2>‚ö†Ô∏è No es asesoramiento formal</h2>
                        <p class="onboarding-description">Esta es una <strong>herramienta educativa</strong>. Queremos
                            democratizar herramientas cu√°nticas para que tomes mejores decisiones por tu cuenta.</p>
                    </div>
                </div>

                <div class="onboarding-dots" role="tablist" aria-label="Pasos de introducci√≥n">
                    <button class="dot active" data-dot="0" role="tab" aria-selected="true"
                        aria-label="Paso 1"></button>
                    <button class="dot" data-dot="1" role="tab" aria-selected="false" aria-label="Paso 2"></button>
                    <button class="dot" data-dot="2" role="tab" aria-selected="false" aria-label="Paso 3"></button>
                </div>

                <button class="btn-primary onboarding-next" id="onboarding-next" aria-label="Ir al siguiente paso">
                    <span id="next-btn-text">Siguiente</span>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                        <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg>
                </button>
            </div>
        </div>

        <!-- Welcome Screen -->
        <div id="welcome-screen" class="screen">
            <div class="welcome-content">
                <div class="welcome-hero">
                    <img src="genz_finance_hero_1766697418381.png" alt="J√≥venes invirtiendo" class="hero-image">
                    <div class="hero-overlay"></div>
                </div>

                <div class="welcome-logo">
                    <svg width="60" height="60" viewBox="0 0 100 100" fill="none">
                        <circle cx="50" cy="50" r="45" stroke="#14B8A6" stroke-width="3" opacity="0.2" />
                        <circle cx="50" cy="50" r="30" stroke="#14B8A6" stroke-width="3" opacity="0.5" />
                        <circle cx="50" cy="50" r="10" fill="#14B8A6" />
                    </svg>
                </div>
                <h1>Quantum Coach</h1>
                <p class="subtitle">Tu futuro financiero, optimizado por cu√°ntica.</p>

                <div class="welcome-features">
                    <div class="feature-card">
                        <span class="feature-icon">üá™üá∏</span>
                        <span>IBEX 35</span>
                    </div>
                    <div class="feature-card">
                        <span class="feature-icon">‚öõÔ∏è</span>
                        <span>QAOA</span>
                    </div>
                    <div class="feature-card">
                        <span class="feature-icon">üõ°Ô∏è</span>
                        <span>INFLACI√ìN</span>
                    </div>
                </div>
            </div>

            <!-- Removed welcome-profile-btn as it is now in bottom nav -->

            <div class="welcome-input-container">
                <!-- Quick Action Shortcuts (moved above input for visibility) -->
                <p class="shortcuts-label">üöÄ Empieza r√°pido:</p>
                <div class="welcome-shortcuts" role="group" aria-label="Acciones r√°pidas">
                    <button class="shortcut-btn" data-query="Quiero batir la inflaci√≥n espa√±ola"
                        aria-label="Crear cartera para batir la inflaci√≥n">
                        üìà Batir Inflaci√≥n
                    </button>
                    <button class="shortcut-btn" data-query="Cartera con acciones del IBEX"
                        aria-label="Crear cartera solo con IBEX 35">
                        üá™üá∏ Solo IBEX 35
                    </button>
                    <button class="shortcut-btn" data-query="Quiero invertir en tech y crypto"
                        aria-label="Crear cartera de tecnolog√≠a y criptomonedas">
                        üöÄ Tech + Crypto
                    </button>
                </div>

                <div class="input-divider">
                    <span>o escribe tu objetivo</span>
                </div>

                <div class="input-wrapper main-input expandable">
                    <textarea id="welcome-input" placeholder="¬øCu√°l es tu objetivo de inversi√≥n?"
                        class="chat-input auto-expand" aria-label="Escribe tu objetivo de inversi√≥n" autocomplete="off"
                        maxlength="255" rows="1"></textarea>
                    <div class="input-actions">
                        <span class="char-counter" id="welcome-char-counter" aria-live="polite">0/255</span>
                        <button class="send-btn" id="welcome-send" aria-label="Enviar mensaje">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                                <path d="M22 2L11 13M22 2L15 22L11 13M22 2L2 9L11 13" stroke="white" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                        </button>
                    </div>
                </div>

                <p class="disclaimer" role="note">
                    <span class="disclaimer-icon" aria-hidden="true">‚ÑπÔ∏è</span>
                    Optimizado con QAOA. No es asesoramiento financiero. Datos del BCE e INE.
                </p>
            </div>
        </div>

        <!-- Chat Screen -->
        <div id="chat-screen" class="screen hidden">
            <div class="chat-header">
                <button class="icon-btn" id="new-chat-btn" title="Nueva conversaci√≥n">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                    </svg>
                </button>
                <div class="header-title">
                    <div class="market-pulse" id="market-pulse" title="Estado del Mercado (IBEX 35)"></div>
                    <div class="bot-avatar-small">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <circle cx="10" cy="10" r="8" stroke="#14B8A6" stroke-width="1.5" />
                            <circle cx="10" cy="10" r="3" fill="#14B8A6" />
                        </svg>
                    </div>
                    <span>Coach Q</span>
                </div>
                <div class="header-actions">
                    <button class="icon-btn" id="benchmark-toggle-btn" title="Activar Benchmark Cu√°ntico">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M18 20V10M12 20V4M6 20V14" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" />
                        </svg>
                    </button>
                    <!-- Removed chat-profile-btn as it is now in bottom nav -->
                </div>
            </div>

            <div class="chat-messages" id="chat-messages">
                <!-- Messages will be inserted here -->
            </div>

            <div class="chat-input-container">
                <div class="input-wrapper expandable">
                    <textarea id="chat-input" placeholder="Escribe tu mensaje..." class="chat-input auto-expand"
                        aria-label="Escribe tu mensaje" maxlength="255" rows="1"></textarea>
                    <div class="input-actions">
                        <span class="char-counter" id="chat-char-counter" aria-live="polite">0/255</span>
                        <button class="send-btn" id="chat-send" aria-label="Enviar mensaje">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                                <path d="M22 2L11 13M22 2L15 22L11 13M22 2L2 9L11 13" stroke="white" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chart Modal -->
        <div id="chart-modal" class="modal">
            <div class="modal-content chart-modal">
                <button class="modal-close" id="close-chart-modal">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                    </svg>
                </button>
                <h3>An√°lisis de Cartera</h3>
                <div class="modal-tabs">
                    <button class="tab-btn active" data-tab="distribution">Distribuci√≥n</button>
                    <button class="tab-btn" data-tab="projection">Proyecci√≥n 5A</button>
                </div>
                <div id="distribution-view" class="tab-view active">
                    <canvas id="modal-chart" width="300" height="300"></canvas>
                    <div id="modal-chart-legend" class="chart-legend"></div>
                </div>
                <div id="projection-view" class="tab-view">
                    <canvas id="projection-chart" width="300" height="300"></canvas>
                    <div class="projection-info">
                        <p id="projection-summary"></p>
                    </div>
                </div>
            </div>
        </div>

        <div id="profile-screen" class="screen hidden">
            <div class="profile-container">
                <div class="profile-top-actions">
                    <button class="icon-btn" id="settings-btn" aria-label="Configuraci√≥n">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path
                                d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z"
                                stroke="currentColor" stroke-width="2" />
                            <path
                                d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"
                                stroke="currentColor" stroke-width="2" />
                        </svg>
                    </button>
                </div>

                <div class="profile-header">
                    <div class="profile-avatar-container">
                        <img src="placeholder_avatar_1766697430231.png" alt="Tu Foto" id="profile-img-display"
                            class="profile-avatar-big">
                        <label for="profile-upload" class="avatar-upload-label" title="Subir foto">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                <path
                                    d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z" />
                                <circle cx="12" cy="13" r="4" />
                            </svg>
                        </label>
                        <input type="file" id="profile-upload" hidden accept="image/*">
                    </div>
                    <h2>Hola, <span id="user-name-display">Inversor</span></h2>
                    <p class="profile-tagline">Nivel: Aprendiz Cu√°ntico ‚öõÔ∏è</p>
                </div>

                <div class="profile-stats">
                    <div class="stat-item">
                        <span class="stat-value">0</span>
                        <span class="stat-label">Carteras</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value">‚Ç¨0</span>
                        <span class="stat-label">Invertido</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value">5/5</span>
                        <span class="stat-label">Riesgo</span>
                    </div>
                </div>

                <div class="profile-actions">
                    <button class="btn-secondary" id="logout-btn">Cerrar Sesi√≥n</button>
                    <button class="btn-primary" id="save-profile-btn">Guardar Cambios</button>
                </div>
            </div>
        </div>

        <!-- Glossary Modal -->
        <div id="glossary-modal" class="modal">
            <div class="modal-content glossary-modal">
                <button class="modal-close" id="close-glossary-modal">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                    </svg>
                </button>
                <div id="glossary-content">
                    <h3 id="glossary-title">T√≠tulo</h3>
                    <p id="glossary-text">Definici√≥n...</p>
                </div>
            </div>
        </div>

        <!-- Settings Modal -->
        <div id="settings-modal" class="modal">
            <div class="modal-content settings-modal">
                <button class="modal-close" id="close-settings-modal">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                    </svg>
                </button>
                <h3>Configuraci√≥n</h3>

                <div class="settings-option">
                    <div class="settings-label">
                        <span>Modo oscuro</span>
                        <p class="settings-description">Cambia el tema de la aplicaci√≥n</p>
                    </div>
                    <label class="toggle">
                        <input type="checkbox" id="dark-mode-toggle">
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <div class="settings-option">
                    <div class="settings-label">
                        <span>Idioma</span>
                        <p class="settings-description">Selecciona tu idioma preferido</p>
                    </div>
                    <select class="settings-select" id="language-select">
                        <option value="es" selected>Espa√±ol</option>
                        <option value="en">English</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Toast Notification -->
        <div id="toast" class="toast">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                <circle cx="10" cy="10" r="9" stroke="currentColor" stroke-width="2" />
                <path d="M6 10L9 13L14 7" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" />
            </svg>
            <span id="toast-message">Portfolio guardado</span>
        </div>

        <!-- Loading Overlay -->
        <div id="loading-overlay" class="loading-overlay hidden">
            <div class="loading-spinner">
                <div class="spinner-dot"></div>
                <div class="spinner-dot"></div>
                <div class="spinner-dot"></div>
            </div>
            <p>Coach Q est√° pensando...</p>
        </div>
        <!-- Bottom Navigation -->
        <nav class="bottom-nav" aria-label="Navegaci√≥n principal">
            <button class="nav-item active" id="nav-home" aria-label="Inicio">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M3 9.5L12 3L21 9.5V19C21 19.55 20.55 20 20 20H4C3.45 20 3 19.55 3 19V9.5Z"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
                <span>Inicio</span>
            </button>
            <button class="nav-item" id="nav-chat" aria-label="Coach Q">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M21 15C21 16.1 20.1 17 19 17H7L3 21V5C3 3.9 3.9 3 5 3H19C20.1 3 21 3.9 21 5V15Z"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    <circle cx="12" cy="10" r="2" fill="currentColor" />
                </svg>
                <span>Coach Q</span>
            </button>
            <button class="nav-item" id="nav-profile" aria-label="Perfil">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2" />
                    <path d="M20 21C20 18.2386 16.4183 16 12 16C7.58172 16 4 18.2386 4 21" stroke="currentColor"
                        stroke-width="2" stroke-linecap="round" />
                </svg>
                <span>Perfil</span>
            </button>
        </nav>
    </div>

    <script src="script.js"></script>
</body>

</html>